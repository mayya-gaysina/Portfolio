# Проект "Выбор локации для скважины"

Описание проекта 

Данные:
 - предоставлены пробы нефти в трёх регионах: в каждом 10 000 месторождений, где измерили качество нефти и объём её запасов.
 - находятся в 3-х файлах(geo_data_0.csv,geo_data_1.csv,geo_data_2.csv), в которых:
   - id — уникальный идентификатор скважины;
   - f0, f1, f2 — три признака точек (неважно, что они означают, но сами признаки значимы);
   - product — объём запасов в скважине (тыс. баррелей).

Задача:
 - необходимо определить регион, в котором добыча принесет наибольшую прибыль, с помощью модели машинного обучения. Анализ возможной прибыли и рисков необходимо провести техникой Bootstrap.

Условия задачи:
 - Для обучения модели подходит только линейная регрессия (остальные — недостаточно предсказуемые).
 - При разведке региона исследуют 500 точек, из которых с помощью машинного обучения выбирают 200 лучших для разработки.
 - Бюджет на разработку скважин в регионе — 10 млрд рублей.
 - При нынешних ценах один баррель сырья приносит 450 рублей дохода. Доход с каждой единицы продукта составляет 450 тыс. рублей, поскольку объём указан в тысячах баррелей.
 - После оценки рисков нужно оставить лишь те регионы, в которых вероятность убытков меньше 2.5%. Среди них выбирают регион с наибольшей средней прибылью.

Для решения поставленной задачи обучена модель линейной регресии. На основании данной модели:
 - для каждого региона посчитаны предсказания объемов запасов скважин,определена точность предсказания:самое низкое среднее предсказанных запасов скважины у 2-го региона(69.2 тыс баррелей), для 1-го и 3-го аналогичное значение выше более чем на 1/3 и примерно одинаковое между собой, при этом самая высокая точность предсказания у 2-го региона - предсказанное значение отличается от фактического на плюс/минус 0.9 тыс. баррелей.
 - посчитан коэф-т детерминации r2: для 1-го и 3-го региона значение низкое (0.27 и 0.2 соответственно), можно сказать, что для данных регионов модель прогнозирует лучше, чем условные случайные предсказания. При этом для 2-го региона видим значение коэф-та почти 1: это обусловлено прямой корреляцией признака f2 с целевым, замеченной нами ранее.
 - Исходя из условий задачи посчитан объем сырья для безубыточной разработки новой скважины - 111.11 тыс. баррелей, что существенно ниже, чем среднее предсказанное значение объема сырья скважины для каждого региона (92.8, 69.2, 94.9 тыс). При этом, несмотря на недостаточное для безубыточности значение средних предсказанных объемов запасов, в каждом регионе все-таки присутствуют необходимые скважины - порядка 1/3 в 1-м и 3-м регионах и менее 1/6 всех скважин во 2-м регионе.

Для расчета прибыли и рисков написаны функции, анализ возможной прибыли и рисков проведен техникой Bootstrap. Исходя из проведенного анализа:
 - 1-й и 3-й регионы имеют достаточно высокие риски получения убытков (8-12%) и не подходят по условиям задачи (вероятность убытков должна быть меньше 2.5%), доверительный интервал имеет широкий размах. В это же время риски получения убытков для 2-го региона менее 1%, показана самая высокая средняя предсказанная прибыль по лучшим 200 точкам по сравнению с другим регионами, а также доверительный интервал более узкий, т.е.выборочная оценка надежнее.
 - Несмотря на то, что средние запасы 2-го региона (69 тыс баррелей) гораздо ниже остальных регионов(93-95), модель для данного региона показывает наиболее высокую прибыль, более "узкий" доверительный интервал и минимальные риски убытков, причем только по данному региону уровень риска соответствует условиям задачи. Также учтем, что модель для данного региона является наиболее точной (коэф-т детерминации равен почти 1, RMSE также минимален по регионам- 0.9 тыс баррелей). По результатам проведенного анализа, для разработки предлагается 2-й регион.
