# Проект "Прогнозирование снижения покупательской активности клиентов интернет-магазина"

Описание проекта

Интернет-магазин «В один клик» продаёт разные товары: для детей, для дома, мелкую бытовую технику, косметику и даже продукты. Отчёт магазина за прошлый период показал, что активность покупателей начала снижаться. Привлекать новых клиентов уже не так эффективно: о магазине и так знает большая часть целевой аудитории. Возможный выход — удерживать активность постоянных клиентов. Сделать это можно с помощью персонализированных предложений.

Нужно построить модель, которая предскажет вероятность снижения покупательской активности клиента в следующие три месяца.В исследование нужно включить дополнительные данные финансового департамента о прибыльности клиента: какой доход каждый покупатель приносил компании за последние три месяца.Используя данные модели и данные о прибыльности клиентов, нужно выделить сегменты покупателей и разработать для них персонализированные предложения.

Данные для работы находятся в нескольких таблицах:
 - market_file.csv - содержит данные о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении,
 - market_money.csv - таблица с данными о выручке, которую получает магазин с покупателя, то есть сколько покупатель всего потратил за период взаимодействия с сайтом,
 - market_time.csv - таблица с данными о времени (в минутах), которое покупатель провёл на сайте в течение периода,
 - money.csv - таблица с данными о среднемесячной прибыли покупателя за последние 3 месяца: какую прибыль получает магазин от продаж каждому покупателю.

В рамках проекта необходимо решить следующие задачи:
 - Построить модель для предсказания снижения покупательской активности,
 - Используя данные модели и данные о прибыльности клиентов, выделить сегменты покупателей и разработать для них персонализированные предложения.

Первая задача:
 - С помощью пайпланой было автоматизировано обучено 4 модели (KNeighborsClassifier,DecisionTreeClassifier, LogisticRegression,SVC) с разными гиперпараметрами, из которых была выбрана лучшая путем поиска наилучшего значения ROC-AUC: метрика выбрана, т.к. она отлично подходит для бинарной классификации с несбалансированной выборкой. Наилучшей моделью является KNeighborsClassifier с к=49
 - Проведен анализ важности признаков для лучшей модели методом SHAP: ими являются акционные покупки, общее время, проведенное на сайте (в первую очередь за текущий месяц, далее за предыдущий), кол-во просмотренных страниц за визит,популярная категория, выручка за препредыдущий месяц,средняя маркетинговая активность за последние 6 мес,средний просмотр категорий за визит и кол-во неоплаченных продуктов в квартал.

Вторая задача:
 - В качестве сегмента для дописследования выбрана группа покупателей с высокой вероятностью снижения покупательской активности (выше 60%), прибылью выше среднего (выше 4у.е.) и высокой долей акционных покупок ( свыше 0.8). Исходя из уровня важности признаков, по которым лучшая модель относит клиентов к сниженному или прежнему уровню покупательской активности, для выбранного сегмента предложено следующее:
   - привлекать внимание к акционным покупкам в наиболее популярных категориях- Домашний текстиль (имеет самую высокую динамику прироста по месяцам) и Товары для детей, например, сделать подборку акций по этим категориям. Также стоит акцентировать внимание на категориях, по которым рост выручки просел либо практически отсутствует -Косметика и аксессуары, увеличивать средний просмотр категорий: например, теми же акциями, большим кол-вом предложений других товаров на одной странице (например, "вам может быть интересно следующее"),
   - увеличивать маркетинговую активность (у покупателей рассматриваемой группы среднее значение по данному признаку почти в 1.8 раз ниже, чем у покупателей с прежней покупательской активностью), при этом на постоянной основе - в этом плане важна именно длительность работы с клиентом (маркетинговая активность в текущем месяце не столь важна, как за 6 месяцев в среднем): здесь опять же можно увеличивать рассылку акционных товаров в наиболее просматриваемых категориях,
   - относится ко всем группам покупателям, но также стоит отметить - необходимо улучшать привлекательность и удобство интерфейса сайта:чем больше покупатель будет находиться на сайте, тем больше вероятность того, что он увидит нужные ему товары, заинтересуется какими-то другими категориями товаров
